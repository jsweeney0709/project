# -*- coding: utf-8 -*-
"""
Created on Sat Nov 27 22:15:10 2021

@author: jswee
"""

# -*- coding: utf-8 -*-
"""
Created on Sat Nov 27 13:31:02 2021

@author: jswee
"""
import numpy as np
import matplotlib.pyplot as plt
from PIL import Image

plotListX=[0.1507537688442211, 0.15829145728643215, 0.1658291457286432, 0.17336683417085427, 0.18090452261306533, 0.18844221105527637, 0.19597989949748743, 0.20351758793969849, 0.21105527638190955, 0.2185929648241206, 0.22613065326633164, 0.2336683417085427, 0.24120603015075376, 0.24874371859296482, 0.2562814070351759, 0.2638190954773869, 0.271356783919598, 0.27889447236180903, 0.28643216080402006, 0.29396984924623115, 0.3015075376884422, 0.30904522613065327, 0.3165829145728643, 0.32412060301507534, 0.3316582914572864, 0.33919597989949746, 0.34673366834170855, 0.3542713567839196, 0.36180904522613067, 0.3693467336683417, 0.37688442211055273, 0.3844221105527638, 0.39195979899497485, 0.39949748743718594, 0.40703517587939697, 0.414572864321608, 0.4221105527638191, 0.4296482412060301, 0.4371859296482412, 0.44472361809045224, 0.4522613065326633, 0.45979899497487436, 0.4673366834170854, 0.4748743718592965, 0.4824120603015075, 0.48994974874371855, 0.49748743718592964, 0.5050251256281407, 0.5125628140703518, 0.5201005025125628, 0.5276381909547738, 0.5351758793969849, 0.542713567839196, 0.550251256281407, 0.5577889447236181, 0.5653266331658291, 0.5728643216080401, 0.5804020100502513, 0.5879396984924623, 0.5954773869346733, 0.6030150753768844, 0.6105527638190954, 0.6180904522613065, 0.6256281407035176, 0.6331658291457286, 0.6407035175879396, 0.6482412060301507, 0.6557788944723618, 0.6633165829145728, 0.6708542713567839, 0.6783919597989949, 0.685929648241206, 0.6934673366834171, 0.7010050251256281, 0.7085427135678392, 0.7160804020100502, 0.7236180904522613, 0.7311557788944724, 0.7386934673366834, 0.7462311557788944, 0.7537688442211055, 0.7613065326633166, 0.7688442211055276, 0.7763819095477387, 0.7839195979899497, 0.7914572864321607, 0.7989949748743719, 0.8065326633165829, 0.8140703517587939, 0.821608040201005, 0.829145728643216, 0.8366834170854272, 0.8442211055276382, 0.8517587939698492, 0.8592964824120602, 0.8668341708542713, 0.8743718592964824, 0.8819095477386935, 0.8894472361809045, 0.8969849246231155, 0.9045226130653266, 0.9120603015075377, 0.9195979899497487, 0.9271356783919598, 0.9346733668341708, 0.9422110552763818, 0.949748743718593, 0.957286432160804, 0.964824120603015, 0.9723618090452261, 0.9798994974874371, 0.9874371859296482, 0.9949748743718593, 1.0025125628140703, 1.0100502512562815, 1.0175879396984924, 1.0251256281407035, 1.0326633165829144, 1.0402010050251256, 1.0477386934673367, 1.0552763819095476, 1.0628140703517588, 1.0703517587939697, 1.0778894472361809, 1.085427135678392, 1.092964824120603, 1.100502512562814, 1.108040201005025, 1.1155778894472361, 1.1231155778894473, 1.1306532663316582, 1.1381909547738693, 1.1457286432160803, 1.1532663316582914, 1.1608040201005025, 1.1683417085427135, 1.1758793969849246, 1.1834170854271355, 1.1909547738693467, 1.1984924623115578, 1.2060301507537687, 1.2135678391959799, 1.2211055276381908, 1.228643216080402, 1.236180904522613, 1.243718592964824, 1.2512562814070352, 1.258793969849246, 1.2663316582914572, 1.2738693467336684, 1.2814070351758793, 1.2889447236180904, 1.2964824120603013, 1.3040201005025125, 1.3115577889447236, 1.3190954773869346, 1.3266331658291457, 1.3341708542713566, 1.3417085427135678, 1.349246231155779, 1.3567839195979898, 1.364321608040201, 1.371859296482412, 1.379396984924623, 1.3869346733668342, 1.394472361809045, 1.4020100502512562, 1.4095477386934672, 1.4170854271356783, 1.4246231155778895, 1.4321608040201004, 1.4396984924623115, 1.4472361809045227, 1.4547738693467336, 1.4623115577889447, 1.4698492462311556, 1.4773869346733668, 1.484924623115578, 1.4924623115577889, 1.5]
plotListY=[-3.4975558854500597, -2.218512093070512, -1.7279590997212773, -1.4405959197301907, -1.235383490091973, -1.0790987584126561, -0.958101771326306, -0.8559208802628155, -0.770361635821615, -0.6977033418972097, -0.6321022262776587, -0.5741201961130207, -0.5222731554286127, -0.47550771492442384, -0.4329388818990163, -0.3946136768968383, -0.3576421357753975, -0.3242647672203851, -0.2931593738310194, -0.2636669379413663, -0.23591676102786752, -0.20933384367307348, -0.1831285734751559, -0.16129940878471452, -0.13833888423297944, -0.11658362724135758, -0.09589893258098622, -0.0755452936461834, -0.05610724681688659, -0.037232961940088426, -0.0190528385638284, -0.0015335756335122378, 0.01644435795311156, 0.03199986406553225, 0.04828372089076268, 0.06512693657616063, 0.07945136022499076, 0.09439965536016164, 0.1101238826445024, 0.12435942600213971, 0.13724324207543181, 0.15090315496104162, 0.1637681637445285, 0.1790464443457624, 0.18951652716113154, 0.20231603759834785, 0.21666923764133816, 0.22742489463207902, 0.23950201127857584, 0.2534797025369486, 0.2655175092254677, 0.2775225766101683, 0.2895517498092525, 0.3006064732771911, 0.310453281794155, 0.32153872195812516, 0.3326366107463429, 0.34374132049546413, 0.354583916970473, 0.36720544219765416, 0.37606050505068433, 0.3885884192508766, 0.39731779429680236, 0.41003194706012536, 0.4202559115430362, 0.4306464012994, 0.44089051540964946, 0.45082026007762954, 0.45877036862388404, 0.46902235349862564, 0.481098725443423, 0.48887892226390395, 0.5011687052329575, 0.5109915720400834, 0.5189622116088437, 0.5285684319624377, 0.5405246676290142, 0.5501624748672735, 0.5597214546097347, 0.5692434474176112, 0.5788335331322984, 0.5882731704929709, 0.597690598327466, 0.6070824257835317, 0.6164627158021329, 0.6257830339250497, 0.6350702591800154, 0.644339864019422, 0.6535850717340524, 0.6629227943873565, 0.6720364998261811, 0.681240419168834, 0.6903447467594379, 0.699637839199689, 0.7083772845266909, 0.7176874742343978, 0.7243070433269359, 0.7357537562095738, 0.7447472710082378, 0.7511968832397564, 0.7625454620059242, 0.7714861055196641, 0.7803907152181297, 0.786719430451973, 0.7956057144479061, 0.8070589958811245, 0.8158970400409297, 0.8247333780255381, 0.8308566911347521, 0.8423126576716672, 0.8510075118422585, 0.8575280271574051, 0.8685368247897489, 0.8772219286316555, 0.8858729089689872, 0.894696585094424, 0.9033779149022769, 0.9119544552496732, 0.9206689837978002, 0.9293730388761903, 0.9380208550989656, 0.9466686917801216, 0.9553236925050305, 0.9615598349536094, 0.9702906418314758, 0.9789191190042106, 0.98711172288853, 0.9959763804137934, 1.0065421966580805, 1.015108103339196, 1.023688450951204, 1.032226281356413, 1.040752309868103, 1.0492736163076433, 1.0577902634365135, 1.0663018053399513, 1.0746559400822406, 1.083171376393934, 1.091691981165309, 1.1002307264279312, 1.1087026310492873, 1.1171595575316555, 1.1256047555244757, 1.1338938351971204, 1.1400431873938164, 1.1485415785593087, 1.1590648286892211, 1.1653654815697518, 1.173728335409956, 1.1820871811278284, 1.1927462839795302, 1.2013718645334044, 1.2097859434168834, 1.21819293505444, 1.2264736964311074, 1.2349193689039153, 1.2433406802859956, 1.2516749810055214, 1.2600222149255629, 1.2659324657194082, 1.274235804256117, 1.2850889262172451, 1.2932079088151516, 1.299262635982342, 1.3075028782122133, 1.3183581308640067, 1.3267367131425785, 1.335101866704128, 1.3433347846986727, 1.351628625938697, 1.3599020495692746, 1.3656179818794114, 1.3764935381806958, 1.3822518014584015, 1.3904954486710865, 1.401374753271445, 1.4096583786264563, 1.4178560249924133, 1.4262049486431907, 1.434525980671788]





    
img=Image.open("C:/Users/jswee/.spyder-py3/Dissertation/jerome.jpg")
imageCopy=Image.open("C:/Users/jswee/.spyder-py3/Dissertation/jerome.jpg")

width=img.size[0]
height=img.size[1]
halfWidth=int(width/2)
halfHeight=int(height/2)
for i in range(width):
    for j in range(height):
        x=i-halfWidth
        y=j-halfHeight
        if x!=0:
            p=(x/abs(x))*(1.32/((halfWidth**2+halfHeight**2)**(1/2)))*(x**2+y**2)**(1/2)
        else:
            p=(1.32/((halfWidth**2+halfHeight**2)**(1/2)))*(x**2+y**2)**(1/2)
        if p<0:
            aprime=-np.interp(-p,plotListX,plotListY)
            iprime=int(round((aprime*(x/p))+halfWidth))
            jprime=int(round((aprime*(y/p))+halfHeight))
            if iprime<width and jprime<height and iprime>-1 and jprime>-1:
                img.putpixel((i,j),imageCopy.getpixel((iprime,jprime)))
            else:
                img.putpixel((i,j),(0,0,0))
        elif p>0:
            aprime=np.interp(p,plotListX,plotListY)
            iprime=int(round((aprime*(x/p))+halfWidth))
            jprime=int(round((aprime*(y/p))+halfHeight))
            if iprime<width and jprime<height and iprime>-1 and jprime>-1:
                img.putpixel((i,j),imageCopy.getpixel((iprime,jprime)))
            else:
                img.putpixel((i,j),(0,0,0))
        else:
            img.putpixel((i,j),(0,0,0))
            
figure, ax = plt.subplots()
ax.axis("equal")
ax.get_xaxis().set_visible(False)
ax.get_yaxis().set_visible(False)
img.save("C:/Users/jswee/.spyder-py3/Dissertation/high_quality_jerome.jpg")        

plt.imshow(img)
plt.show()

print(plotListX)
print(plotListY)